(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{3454:function(e,t,n){"use strict";var o,r;e.exports=(null===(o=n.g.process)||void 0===o?void 0:o.env)&&"object"===typeof(null===(r=n.g.process)||void 0===r?void 0:r.env)?n.g.process:n(7663)},7329:function(){},7663:function(e){!function(){var t={162:function(e){var t,n,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(o){try{return t.call(null,e,0)}catch(o){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,c=[],u=!1,l=-1;function d(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&p())}function p(){if(!u){var e=i(d);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||i(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},i=!0;try{t[e](s,s.exports,o),i=!1}finally{i&&delete n[e]}return s.exports}o.ab="//";var r=o(162);e.exports=r}()},3403:function(e,t,n){"use strict";n.d(t,{mh:function(){return D},Hw:function(){return Z},ZP:function(){return w}});var o=n(7294);const r=o.createContext(null);function s(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function i(e,t){const n=t.viewState||t;let o=!1;if("longitude"in n&&"latitude"in n){const t=e.center;e.center=new t.constructor(n.longitude,n.latitude),o=o||t!==e.center}if("zoom"in n){const t=e.zoom;e.zoom=n.zoom,o=o||t!==e.zoom}if("bearing"in n){const t=e.bearing;e.bearing=n.bearing,o=o||t!==e.bearing}if("pitch"in n){const t=e.pitch;e.pitch=n.pitch,o=o||t!==e.pitch}return n.padding&&!e.isPaddingEqual(n.padding)&&(o=!0,e.padding=n.padding),o}const a=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function c(e){if(!e)return null;if("string"===typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;const t={};for(const o of e.layers)t[o.id]=o;const n=e.layers.map((e=>{const n=t[e.ref];let o=null;if("interactive"in e&&(o={...e},delete o.interactive),n){o=o||{...e},delete o.ref;for(const e of a)e in n&&(o[e]=n[e])}return o||e}));return{...e,layers:n}}function u(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!u(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===typeof e&&"object"===typeof t){const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(const r of n){if(!t.hasOwnProperty(r))return!1;if(!u(e[r],t[r]))return!1}return!0}return!1}var l=n(3454);const d={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},p={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},f={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},m=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],h=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class g{constructor(e,t,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[f[e.type]];t&&t(e)},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[d[e.type]];if(t){if(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type){const t=this._hoveredFeatures||this._map.queryRenderedFeatures(e.point,{layers:this.props.interactiveLayerIds});e.features=t}t(e),delete e.features}},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[p[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const t=this.props;this.props=e;const n=this._updateSettings(e,t);n&&this._createShadowTransform(this._map);const o=this._updateSize(e),r=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(n||o||r&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const n=g.savedMaps.pop();if(!n)return null;const o=n.map,r=o.getContainer();for(t.className=r.className;r.childNodes.length>0;)t.appendChild(r.childNodes[0]);return o._container=t,e.initialViewState&&n._updateViewState(e.initialViewState,!1),o.resize(),n.setProps({...e,styleDiffing:!1}),o.isStyleLoaded()?o.fire("load"):o.once("styledata",(()=>o.fire("load"))),n}_initialize(e){const{props:t}=this,n={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||y()||null,container:e,style:c(t.mapStyle)},o=n.initialViewState||n.viewState||n;if(Object.assign(n,{center:[o.longitude||0,o.latitude||0],zoom:o.zoom||0,pitch:o.pitch||0,bearing:o.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const r=new this._MapClass(n);o.padding&&r.setPadding(o.padding),t.cursor&&(r.getCanvas().style.cursor=t.cursor),this._createShadowTransform(r);const s=r._render;r._render=e=>{this._inRender=!0,s.call(r,e),this._inRender=!1};const i=r._renderTaskQueue.run;r._renderTaskQueue.run=e=>{i.call(r._renderTaskQueue,e),this._onBeforeRepaint()},r.on("render",(()=>this._onAfterRepaint()));const a=r.fire;r.fire=this._fireEvent.bind(this,a),r.on("resize",(()=>{this._renderTransform.resize(r.transform.width,r.transform.height)})),r.on("styledata",(()=>this._updateStyleComponents(this.props,{}))),r.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const c in d)r.on(c,this._onPointerEvent);for(const c in p)r.on(c,this._onCameraEvent);for(const c in f)r.on(c,this._onEvent);this._map=r}recycle(){g.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const t=function(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t;const n=t.updateElevation;n&&(t.updateElevation=o=>{e.transform.elevation=t.elevation,n.call(t,o),n.call(e.transform,o)}),this._renderTransform=t}_updateSize(e){const{viewState:t}=e;if(t){const e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const n=this._map,o=this._renderTransform,{zoom:r,pitch:a,bearing:c}=o,u=n.isMoving();u&&(o.cameraElevationReference="sea");const l=i(o,{...s(n.transform),...e});if(u&&(o.cameraElevationReference="ground"),l&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=r!==o.zoom),e.rotate||(e.rotate=c!==o.bearing),e.pitch||(e.pitch=a!==o.pitch)}return u||i(n.transform,e),l}_updateSettings(e,t){const n=this._map;let o=!1;for(const r of m)r in e&&!u(e[r],t[r])&&(o=!0,n[`set${r[0].toUpperCase()}${r.slice(1)}`](e[r]));return o}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor),e.mapStyle!==t.mapStyle){const t={diff:e.styleDiffing};return"localIdeographFontFamily"in e&&(t.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(c(e.mapStyle),t),!0}return!1}_updateStyleComponents(e,t){const n=this._map;let o=!1;return n.style.loaded()&&("light"in e&&!u(e.light,t.light)&&(o=!0,n.setLight(e.light)),"fog"in e&&!u(e.fog,t.fog)&&(o=!0,n.setFog(e.fog)),"terrain"in e&&!u(e.terrain,t.terrain)&&(e.terrain&&!n.getSource(e.terrain.source)||(o=!0,n.setTerrain(e.terrain)))),o}_updateHandlers(e,t){const n=this._map;let o=!1;for(const r of h){const s=e[r];u(s,t[r])||(o=!0,s?n[r].enable(s):n[r].disable())}return o}_updateHover(e){var t;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const r=e.type,s=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0;let i;if("mousemove"===r)try{i=this._map.queryRenderedFeatures(e.point,{layers:n.interactiveLayerIds})}catch(o){i=[]}else i=[];const a=i.length>0;!a&&s&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=i,a&&!s&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=r}else this._hoveredFeatures=null}_fireEvent(e,t,n){const o=this._map,r=o.transform,i="string"===typeof t?t:t.type;return"move"===i&&this._updateViewState(this.props,!1),i in p&&("object"===typeof t&&(t.viewState=s(r)),this._map.isMoving())?(o.transform=this._renderTransform,e.call(o,t,n),o.transform=r,o):(e.call(o,t,n),o)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&e.fire(n);this._internalUpdate=!1;const t=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=t}}}function y(){let e=null;if("undefined"!==typeof location){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||l.env.MapboxAccessToken}catch(t){}try{e=e||l.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(n){}return e}g.savedMaps=[];const v=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function _(e,t){if(!e)return null;const n=e.map,o={getMap:()=>n,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:n=>e.transform.locationPoint(t.LngLat.convert(n)),unproject:n=>e.transform.pointLocation(t.Point.convert(n))};for(const r of function(e){const t=new Set;let n=e;for(;n;){for(const o of Object.getOwnPropertyNames(n))"_"!==o[0]&&"function"===typeof e[o]&&"fire"!==o&&"setEventedParent"!==o&&t.add(o);n=Object.getPrototypeOf(n)}return Array.from(t)}(n))r in o||v.includes(r)||(o[r]=n[r].bind(n));return o}var b="undefined"!==typeof document?o.useLayoutEffect:o.useEffect;const S=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const E=o.createContext(null),x={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:e=>console.error(e.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"},L=(0,o.forwardRef)(((e,t)=>{const s=(0,o.useContext)(r),[i,a]=(0,o.useState)(null),c=(0,o.useRef)(),{current:u}=(0,o.useRef)({mapLib:null,map:null});(0,o.useEffect)((()=>{const t=e.mapLib;let o,r=!0;return Promise.resolve(t||n.e(634).then(n.t.bind(n,6158,23))).then((t=>{if(r){if(t.Map||(t=t.default),!t||!t.Map)throw new Error("Invalid mapLib");if(!t.supported(e))throw new Error("Map is not supported by this browser");!function(e,t){for(const n of S)n in t&&(e[n]=t[n]);t.RTLTextPlugin&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(t.RTLTextPlugin,(e=>{e&&console.error(e)}),!1)}(t,e),e.reuseMaps&&(o=g.reuse(e,c.current)),o||(o=new g(t.Map,e,c.current)),u.map=_(o,t),u.mapLib=t,a(o),null===s||void 0===s||s.onMapMount(u.map,e.id)}})).catch((t=>{e.onError({type:"error",target:null,originalEvent:null,error:t})})),()=>{r=!1,o&&(null===s||void 0===s||s.onMapUnmount(e.id),e.reuseMaps?o.recycle():o.destroy())}}),[]),b((()=>{i&&i.setProps(e)})),(0,o.useImperativeHandle)(t,(()=>u.map),[i]);const l=(0,o.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...e.style})),[e.style]);return o.createElement("div",{id:e.id,ref:c,style:l},i&&o.createElement(E.Provider,{value:u},e.children))}));L.displayName="Map",L.defaultProps=x;var w=L,P=n(3935);const C=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function M(e,t){if(!e||!t)return;const n=e.style;for(const o in t){const e=t[o];Number.isFinite(e)&&!C.test(o)?n[o]=`${e}px`:n[o]=e}}function T(e){const{map:t,mapLib:n}=(0,o.useContext)(E),r=(0,o.useRef)({props:e});r.current.props=e;const s=(0,o.useMemo)((()=>{let t=!1;o.Children.forEach(e.children,(e=>{e&&(t=!0)}));const i={...e,element:t?document.createElement("div"):null},a=new n.Marker(i).setLngLat([e.longitude,e.latitude]);return a.getElement().addEventListener("click",(e=>{var t,n;null===(n=(t=r.current.props).onClick)||void 0===n||n.call(t,{type:"click",target:a,originalEvent:e})})),a.on("dragstart",(e=>{var t,n;const o=e;o.lngLat=s.getLngLat(),null===(n=(t=r.current.props).onDragStart)||void 0===n||n.call(t,o)})),a.on("drag",(e=>{var t,n;const o=e;o.lngLat=s.getLngLat(),null===(n=(t=r.current.props).onDrag)||void 0===n||n.call(t,o)})),a.on("dragend",(e=>{var t,n;const o=e;o.lngLat=s.getLngLat(),null===(n=(t=r.current.props).onDragEnd)||void 0===n||n.call(t,o)})),a}),[]);return(0,o.useEffect)((()=>(s.addTo(t.getMap()),()=>{s.remove()})),[]),(0,o.useEffect)((()=>{M(s.getElement(),e.style)}),[e.style]),s.getLngLat().lng===e.longitude&&s.getLngLat().lat===e.latitude||s.setLngLat([e.longitude,e.latitude]),e.offset&&!function(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0,r=Array.isArray(t)?t[0]:t?t.x:0,s=Array.isArray(t)?t[1]:t?t.y:0;return n===r&&o===s}(s.getOffset(),e.offset)&&s.setOffset(e.offset),s.isDraggable()!==e.draggable&&s.setDraggable(e.draggable),s.getRotation()!==e.rotation&&s.setRotation(e.rotation),s.getRotationAlignment()!==e.rotationAlignment&&s.setRotationAlignment(e.rotationAlignment),s.getPitchAlignment()!==e.pitchAlignment&&s.setPitchAlignment(e.pitchAlignment),s.getPopup()!==e.popup&&s.setPopup(e.popup),(0,P.createPortal)(e.children,s.getElement())}T.defaultProps={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};o.memo(T);function R(e){return new Set(e?e.trim().split(/\s+/):[])}o.memo((function(e){const{map:t,mapLib:n}=(0,o.useContext)(E),r=(0,o.useMemo)((()=>document.createElement("div")),[]),s=(0,o.useRef)({props:e});s.current.props=e;const i=(0,o.useMemo)((()=>{const t={...e},o=new n.Popup(t).setLngLat([e.longitude,e.latitude]);return o.once("open",(e=>{var t,n;null===(n=(t=s.current.props).onOpen)||void 0===n||n.call(t,e)})),o}),[]);if((0,o.useEffect)((()=>{const e=e=>{var t,n;null===(n=(t=s.current.props).onClose)||void 0===n||n.call(t,e)};return i.on("close",e),i.setDOMContent(r).addTo(t.getMap()),()=>{i.off("close",e),i.isOpen()&&i.remove()}}),[]),(0,o.useEffect)((()=>{M(i.getElement(),e.style)}),[e.style]),i.isOpen()&&(i.getLngLat().lng===e.longitude&&i.getLngLat().lat===e.latitude||i.setLngLat([e.longitude,e.latitude]),e.offset&&!u(i.options.offset,e.offset)&&i.setOffset(e.offset),i.options.anchor===e.anchor&&i.options.maxWidth===e.maxWidth||(i.options.anchor=e.anchor,i.setMaxWidth(e.maxWidth)),i.options.className!==e.className)){const t=R(i.options.className),n=R(e.className);for(const e of t)n.has(e)||i.removeClassName(e);for(const e of n)t.has(e)||i.addClassName(e);i.options.className=e.className}return(0,P.createPortal)(e.children,r)}));function z(e,t,n){const r=(0,o.useContext)(E),s=(0,o.useMemo)((()=>e(r)),[]);return(0,o.useEffect)((()=>{var e;const{map:o}=r;return o.hasControl(s)||o.addControl(s,null===(e=n||t)||void 0===e?void 0:e.position),()=>{"function"===typeof t&&t(r),o.hasControl(s)&&o.removeControl(s)}}),[]),s}o.memo((function(e){const t=z((({mapLib:t})=>new t.AttributionControl(e)),{position:e.position});return(0,o.useEffect)((()=>{M(t._container,e.style)}),[e.style]),null}));o.memo((function(e){const t=z((({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)})),{position:e.position});return(0,o.useEffect)((()=>{M(t._controlContainer,e.style)}),[e.style]),null}));const A=(0,o.forwardRef)(((e,t)=>{const n=(0,o.useRef)({props:e}),r=z((({mapLib:t})=>{const o=new t.GeolocateControl(e),r=o._setupUI;return o._setupUI=e=>{o._container.hasChildNodes()||r(e)},o.on("geolocate",(e=>{var t,o;null===(o=(t=n.current.props).onGeolocate)||void 0===o||o.call(t,e)})),o.on("error",(e=>{var t,o;null===(o=(t=n.current.props).onError)||void 0===o||o.call(t,e)})),o.on("outofmaxbounds",(e=>{var t,o;null===(o=(t=n.current.props).onOutOfMaxBounds)||void 0===o||o.call(t,e)})),o.on("trackuserlocationstart",(e=>{var t,o;null===(o=(t=n.current.props).onTrackUserLocationStart)||void 0===o||o.call(t,e)})),o.on("trackuserlocationend",(e=>{var t,o;null===(o=(t=n.current.props).onTrackUserLocationEnd)||void 0===o||o.call(t,e)})),o}),{position:e.position});return n.current.props=e,(0,o.useImperativeHandle)(t,(()=>({trigger:()=>r.trigger()})),[]),(0,o.useEffect)((()=>{M(r._container,e.style)}),[e.style]),null}));A.displayName="GeolocateControl";o.memo(A);o.memo((function(e){const t=z((({mapLib:t})=>new t.NavigationControl(e)),{position:e.position});return(0,o.useEffect)((()=>{M(t._container,e.style)}),[e.style]),null}));function k(e){const t=z((({mapLib:t})=>new t.ScaleControl(e)),{position:e.position});return t.options.unit===e.unit&&t.options.maxWidth===e.maxWidth||(t.options.maxWidth=e.maxWidth,t.setUnit(e.unit)),(0,o.useEffect)((()=>{M(t._container,e.style)}),[e.style]),null}k.defaultProps={unit:"metric",maxWidth:100};o.memo(k);function O(e,t){if(!e)throw new Error(t)}let j=0;var Z=function(e){const t=(0,o.useContext)(E).map.getMap(),n=(0,o.useRef)(e),[,r]=(0,o.useState)(0),s=(0,o.useMemo)((()=>e.id||"jsx-source-"+j++),[]);(0,o.useEffect)((()=>{if(t){const e=()=>r((e=>e+1));return t.on("styledata",e),e(),()=>{var n;if(t.off("styledata",e),t.style&&t.style._loaded&&t.getSource(s)){const e=null===(n=t.getStyle())||void 0===n?void 0:n.layers;if(e)for(const n of e)n.source===s&&t.removeLayer(n.id);t.removeSource(s)}}}}),[t]);let i=t&&t.style&&t.getSource(s);return i?function(e,t,n){O(t.id===n.id,"source id changed"),O(t.type===n.type,"source type changed");let o="",r=0;for(const i in t)"children"===i||"id"===i||u(n[i],t[i])||(o=i,r++);if(!r)return;const s=t.type;if("geojson"===s)e.setData(t.data);else if("image"===s)e.updateImage({url:t.url,coordinates:t.coordinates});else if("canvas"!==s&&"video"!==s||1!==r||"coordinates"!==o)if("vector"===s&&"setUrl"in e)switch(o){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles)}else console.warn(`Unable to update <Source> prop: ${o}`);else e.setCoordinates(t.coordinates)}(i,e,n.current):i=function(e,t,n){if(e.style&&e.style._loaded){const o={...n};return delete o.id,delete o.children,e.addSource(t,o),e.getSource(t)}return null}(t,s,e),n.current=e,i&&o.Children.map(e.children,(e=>e&&(0,o.cloneElement)(e,{source:s})))||null};let I=0;var D=function(e){const t=(0,o.useContext)(E).map.getMap(),n=(0,o.useRef)(e),[,r]=(0,o.useState)(0),s=(0,o.useMemo)((()=>e.id||"jsx-layer-"+I++),[]);if((0,o.useEffect)((()=>{if(t){const e=()=>r((e=>e+1));return t.on("styledata",e),e(),()=>{t.off("styledata",e),t.style&&t.style._loaded&&t.getLayer(s)&&t.removeLayer(s)}}}),[t]),t&&t.style&&t.getLayer(s))try{!function(e,t,n,o){if(O(n.id===o.id,"layer id changed"),O(n.type===o.type,"layer type changed"),"custom"===n.type||"custom"===o.type)return;const{layout:r={},paint:s={},filter:i,minzoom:a,maxzoom:c,beforeId:l}=n;if(l!==o.beforeId&&e.moveLayer(t,l),r!==o.layout){const n=o.layout||{};for(const o in r)u(r[o],n[o])||e.setLayoutProperty(t,o,r[o]);for(const o in n)r.hasOwnProperty(o)||e.setLayoutProperty(t,o,void 0)}if(s!==o.paint){const n=o.paint||{};for(const o in s)u(s[o],n[o])||e.setPaintProperty(t,o,s[o]);for(const o in n)s.hasOwnProperty(o)||e.setPaintProperty(t,o,void 0)}u(i,o.filter)||e.setFilter(t,i),a===o.minzoom&&c===o.maxzoom||e.setLayerZoomRange(t,a,c)}(t,s,e,n.current)}catch(i){console.warn(i)}else!function(e,t,n){if(e.style&&e.style._loaded&&(!("source"in n)||e.getSource(n.source))){const o={...n,id:t};delete o.beforeId,e.addLayer(o,n.beforeId)}}(t,s,e);return n.current=e,null}},3250:function(e,t,n){"use strict";var o=n(7294);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=o.useState,i=o.useEffect,a=o.useLayoutEffect,c=o.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(o){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=s({inst:{value:n,getSnapshot:t}}),r=o[0].inst,l=o[1];return a((function(){r.value=n,r.getSnapshot=t,u(r)&&l({inst:r})}),[e,n,t]),i((function(){return u(r)&&l({inst:r}),e((function(){u(r)&&l({inst:r})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:l},6742:function(e,t,n){"use strict";var o=n(7294),r=n(1688);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,a=o.useRef,c=o.useEffect,u=o.useMemo,l=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var d=a(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=u((function(){function e(e){if(!c){if(c=!0,i=e,e=o(e),void 0!==r&&p.hasValue){var t=p.value;if(r(t,e))return a=t}return a=e}if(t=a,s(i,e))return t;var n=o(e);return void 0!==r&&r(t,n)?t:(i=e,a=n)}var i,a,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,o,r]);var f=i(e,d[0],d[1]);return c((function(){p.hasValue=!0,p.value=f}),[f]),l(f),f}},1688:function(e,t,n){"use strict";e.exports=n(3250)},2798:function(e,t,n){"use strict";e.exports=n(6742)},6902:function(e,t,n){"use strict";n.d(t,{ZP:function(){return a}});const o=e=>{let t;const n=new Set,o=(e,o)=>{const r="function"===typeof e?e(t):e;if(r!==t){const e=t;t=o?r:Object.assign({},t,r),n.forEach((n=>n(t,e)))}},r=()=>t,s={setState:o,getState:r,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(o,r,s),s};var r=n(7294),s=n(2798);const i=e=>{const t="function"===typeof e?(e=>e?o(e):o)(e):e,n=(e,n)=>function(e,t=e.getState,n){const o=(0,s.useSyncExternalStoreWithSelector)(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return(0,r.useDebugValue)(o),o}(t,e,n);return Object.assign(n,t),n};var a=e=>e?i(e):i}}]);