(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{3454:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(7663)},2983:function(e,t,r){"use strict";r.r(t),r.d(t,{Visualization:function(){return eK}});var n,o=r(5893),a=r(7294),i=r(7039),s=r(8326),l=r(7865),u=r.n(l);let c=e=>{let t=(0,s.jg)("data");if(t)return t.metadata[e]},d=e=>{let{featurePropertiesKey:t}=e,r=c(t);return void 0===r?null:(0,o.jsxs)("div",{className:u().container,children:[(0,o.jsx)("h3",{className:"number",children:r}),(0,o.jsx)("small",{children:(0,o.jsx)(p,{featurePropertiesKey:t})})]})},p=e=>{let{featurePropertiesKey:t}=e,{t:r}=(0,i.$G)(),n=(0,s.jg)("size");return r(t+".countLegend"+(n?"Selected":"Null"))};var f=r(5214),m=r.n(f),h=r(7013),g=r.n(h);let y=e=>{let{featurePropertiesKey:t}=e,r=c(t),n=Array(r).fill("◼"),a=n.join("");return(0,o.jsx)("div",{className:g().container,children:(0,o.jsxs)("div",{className:g().chart,children:[(0,o.jsx)("div",{className:g().squareContainer,children:a}),(0,o.jsx)("div",{className:g().fade})]})})},v=e=>{let{id:t,featurePropertiesKey:r}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(_,{id:t}),(0,o.jsxs)("div",{className:m().containerInfos,children:[(0,o.jsx)(y,{featurePropertiesKey:r}),(0,o.jsx)(d,{featurePropertiesKey:r})]})]})},_=e=>{let{id:t}=e,{t:r}=(0,i.$G)();return(0,o.jsx)("div",{className:m().headline,children:(0,o.jsx)("h2",{className:"subheadline",children:r("info.".concat(t,"Headline"))})})};var x=r(4785);let b={longitude:20.457273,latitude:44.787197,zoom:11,pitch:0,bearing:0,padding:{bottom:0,left:0,top:0,right:0}},E={...b,height:500,width:500},C={initialViewState:b,interactiveLayerIds:["data"],mapStyle:"mapbox://styles/cmmm/cl0tpnok2000215o0jm9e2w8g",mapboxAccessToken:x.cM,minZoom:7,maxZoom:14,maxBounds:[20.23,44.6,20.68,45]},S=[{id:"reference",featurePropertiesKey:"suitable",color:"#d24f40",colorOpacity:.35},{id:"comparison",featurePropertiesKey:"affordable",color:"#008b4a",colorOpacity:.5}],L=S.map(e=>e.id);var j=r(8354),P=r.n(j);let T=()=>(0,o.jsx)(o.Fragment,{children:S.map(e=>{let{id:t,featurePropertiesKey:r}=e;return(0,o.jsx)("section",{className:"".concat(t," ").concat(P().info),children:(0,o.jsx)(v,{id:t,featurePropertiesKey:r})},t)})}),w=e=>{let t;let r=new Set,n=(e,n)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=n?n:"object"!=typeof o)?o:Object.assign({},t,o),r.forEach(r=>r(t,e))}},o=()=>t,a=e=>(r.add(e),()=>r.delete(e)),i=()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()},s={setState:n,getState:o,subscribe:a,destroy:i};return t=e(n,o,s),s},M=e=>e?w(e):w;var k=r(2798);let{useSyncExternalStoreWithSelector:R}=k,N=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?M(e):e,r=(e,r)=>(function(e,t=e.getState,r){let n=R(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return(0,a.useDebugValue)(n),n})(t,e,r);return Object.assign(r,t),r},z=(n=e=>({point:{x:0,y:0},feature:null,updateEvent:t=>{let{point:r}=t,n=A(t);return e(e=>({...e,point:r,feature:n}))}}))?N(n):N,A=e=>{if(e.features&&e.features.length>O)return e.features[O]},O=0,I=e=>{let[t,r]=(0,a.useState)(E),[n,o]=(0,a.useState)(e[D]),i=(0,a.useCallback)(e=>r(e.viewState),[]),s=(0,a.useMemo)(()=>e.map(e=>n===e&&i),[n,e,i]),l=(0,a.useMemo)(()=>e.map(e=>()=>o(e)),[e]);return{viewState:t,onMove:s,onMoveStart:l}},D=0,Z=a.createContext(null);function F(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function U(e,t){let r=t.viewState||t,n=!1;if("longitude"in r&&"latitude"in r){let t=e.center;e.center=new t.constructor(r.longitude,r.latitude),n=n||t!==e.center}if("zoom"in r){let t=e.zoom;e.zoom=r.zoom,n=n||t!==e.zoom}if("bearing"in r){let t=e.bearing;e.bearing=r.bearing,n=n||t!==e.bearing}if("pitch"in r){let t=e.pitch;e.pitch=r.pitch,n=n||t!==e.pitch}return r.padding&&!e.isPaddingEqual(r.padding)&&(n=!0,e.padding=r.padding),n}let q=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function B(e){if(!e)return null;if("string"==typeof e||("toJS"in e&&(e=e.toJS()),!e.layers))return e;let t={};for(let r of e.layers)t[r.id]=r;let r=e.layers.map(e=>{let r=t[e.ref],n=null;if("interactive"in e&&delete(n={...e}).interactive,r)for(let t of(delete(n=n||{...e}).ref,q))t in r&&(n[t]=r[t]);return n||e});return{...e,layers:r}}function W(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!W(e[r],t[r]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n of r)if(!t.hasOwnProperty(n)||!W(e[n],t[n]))return!1;return!0}return!1}var H=r(3454);let K={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},$={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},G={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},V=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],Q=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class X{constructor(e,t,r){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{let t=this.props[G[e.type]];t&&t(e)},this._onPointerEvent=e=>{("mousemove"===e.type||"mouseout"===e.type)&&this._updateHover(e);let t=this.props[K[e.type]];if(t){if(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type){let t=this._hoveredFeatures||this._map.queryRenderedFeatures(e.point,{layers:this.props.interactiveLayerIds});e.features=t}t(e),delete e.features}},this._onCameraEvent=e=>{if(!this._internalUpdate){let t=this.props[$[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(r)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){let t=this.props;this.props=e;let r=this._updateSettings(e,t);r&&this._createShadowTransform(this._map);let n=this._updateSize(e),o=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(r||n||o&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){let r=X.savedMaps.pop();if(!r)return null;let n=r.map,o=n.getContainer();for(t.className=o.className;o.childNodes.length>0;)t.appendChild(o.childNodes[0]);n._container=t,r.setProps({...e,styleDiffing:!1}),n.resize();let{initialViewState:a}=e;return a&&(a.bounds?n.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):r._updateViewState(a,!1)),n.isStyleLoaded()?n.fire("load"):n.once("styledata",()=>n.fire("load")),r}_initialize(e){let{props:t}=this,r={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||function(){let e=null;if("undefined"!=typeof location){let t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||H.env.MapboxAccessToken}catch(e){}try{e=e||H.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(e){}return e}()||null,container:e,style:B(t.mapStyle)},n=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[n.longitude||0,n.latitude||0],zoom:n.zoom||0,pitch:n.pitch||0,bearing:n.bearing||0}),t.gl){let e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}let o=new this._MapClass(r);n.padding&&o.setPadding(n.padding),t.cursor&&(o.getCanvas().style.cursor=t.cursor),this._createShadowTransform(o);let a=o._render;o._render=e=>{this._inRender=!0,a.call(o,e),this._inRender=!1};let i=o._renderTaskQueue.run;o._renderTaskQueue.run=e=>{i.call(o._renderTaskQueue,e),this._onBeforeRepaint()},o.on("render",()=>this._onAfterRepaint());let s=o.fire;for(let e in o.fire=this._fireEvent.bind(this,s),o.on("resize",()=>{this._renderTransform.resize(o.transform.width,o.transform.height)}),o.on("styledata",()=>this._updateStyleComponents(this.props,{})),o.on("sourcedata",()=>this._updateStyleComponents(this.props,{})),K)o.on(e,this._onPointerEvent);for(let e in $)o.on(e,this._onCameraEvent);for(let e in G)o.on(e,this._onEvent);this._map=o}recycle(){let e=this.map.getContainer(),t=e.querySelector("[mapboxgl-children]");null==t||t.remove(),X.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){let e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){let t=function(e){let t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){let{viewState:t}=e;if(t){let e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;let r=this._map,n=this._renderTransform,{zoom:o,pitch:a,bearing:i}=n,s=r.isMoving();s&&(n.cameraElevationReference="sea");let l=U(n,{...F(r.transform),...e});if(s&&(n.cameraElevationReference="ground"),l&&t){let e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=o!==n.zoom),e.rotate||(e.rotate=i!==n.bearing),e.pitch||(e.pitch=a!==n.pitch)}return s||U(r.transform,e),l}_updateSettings(e,t){let r=this._map,n=!1;for(let o of V)o in e&&!W(e[o],t[o])&&(n=!0,r[`set${o[0].toUpperCase()}${o.slice(1)}`](e[o]));return n}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor),e.mapStyle!==t.mapStyle){let t={diff:e.styleDiffing};return"localIdeographFontFamily"in e&&(t.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(B(e.mapStyle),t),!0}return!1}_updateStyleComponents(e,t){let r=this._map,n=!1;return r.style.loaded()&&("light"in e&&!W(e.light,t.light)&&(n=!0,r.setLight(e.light)),"fog"in e&&!W(e.fog,t.fog)&&(n=!0,r.setFog(e.fog)),"terrain"in e&&!W(e.terrain,t.terrain)&&(!e.terrain||r.getSource(e.terrain.source))&&(n=!0,r.setTerrain(e.terrain))),n}_updateHandlers(e,t){let r=this._map,n=!1;for(let o of Q){let a=e[o];W(a,t[o])||(n=!0,a?r[o].enable(a):r[o].disable())}return n}_updateHover(e){var t;let{props:r}=this,n=r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave);if(n){let n;let o=e.type,a=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0;if("mousemove"===o)try{n=this._map.queryRenderedFeatures(e.point,{layers:r.interactiveLayerIds})}catch(e){n=[]}else n=[];let i=n.length>0;!i&&a&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=n,i&&!a&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=o}else this._hoveredFeatures=null}_fireEvent(e,t,r){let n=this._map,o=n.transform,a="string"==typeof t?t:t.type;return("move"===a&&this._updateViewState(this.props,!1),a in $&&("object"==typeof t&&(t.viewState=F(o)),this._map.isMoving()))?(n.transform=this._renderTransform,e.call(n,t,r),n.transform=o,n):(e.call(n,t,r),n)}_onBeforeRepaint(){let e=this._map;for(let t in this._internalUpdate=!0,this._deferredEvents)this._deferredEvents[t]&&e.fire(t);this._internalUpdate=!1;let t=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=t}}}X.savedMaps=[];let J=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"],Y="undefined"!=typeof document?a.useLayoutEffect:a.useEffect,ee=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"],et=a.createContext(null),er=(0,a.forwardRef)((e,t)=>{let n=(0,a.useContext)(Z),[o,i]=(0,a.useState)(null),s=(0,a.useRef)(),{current:l}=(0,a.useRef)({mapLib:null,map:null});(0,a.useEffect)(()=>{let t;let o=e.mapLib,a=!0;return Promise.resolve(o||r.e(634).then(r.t.bind(r,6158,23))).then(r=>{if(a){if(r.Map||(r=r.default),!r||!r.Map)throw Error("Invalid mapLib");if(r.supported(e))(function(e,t){for(let r of ee)r in t&&(e[r]=t[r]);t.RTLTextPlugin&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(t.RTLTextPlugin,e=>{e&&console.error(e)},!1)})(r,e),e.reuseMaps&&(t=X.reuse(e,s.current)),t||(t=new X(r.Map,e,s.current)),l.map=function(e,t){if(!e)return null;let r=e.map,n={getMap:()=>r,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:r=>e.transform.locationPoint(t.LngLat.convert(r)),unproject:r=>e.transform.pointLocation(t.Point.convert(r)),queryTerrainElevation:(t,n)=>{let o=r.transform;r.transform=e.transform;let a=r.queryTerrainElevation(t,n);return r.transform=o,a}};for(let e of function(e){let t=new Set,r=e;for(;r;){for(let n of Object.getOwnPropertyNames(r))"_"!==n[0]&&"function"==typeof e[n]&&"fire"!==n&&"setEventedParent"!==n&&t.add(n);r=Object.getPrototypeOf(r)}return Array.from(t)}(r))e in n||J.includes(e)||(n[e]=r[e].bind(r));return n}(t,r),l.mapLib=r,i(t),null==n||n.onMapMount(l.map,e.id);else throw Error("Map is not supported by this browser")}}).catch(t=>{e.onError({type:"error",target:null,originalEvent:null,error:t})}),()=>{a=!1,t&&(null==n||n.onMapUnmount(e.id),e.reuseMaps?t.recycle():t.destroy())}},[]),Y(()=>{o&&o.setProps(e)}),(0,a.useImperativeHandle)(t,()=>l.map,[o]);let u=(0,a.useMemo)(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]);return a.createElement("div",{id:e.id,ref:s,style:u},o&&a.createElement(et.Provider,{value:l},a.createElement("div",{"mapboxgl-children":""},e.children)))});er.displayName="Map",er.defaultProps={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:e=>console.error(e.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"};var en=r(3935);let eo=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function ea(e,t){if(!e||!t)return;let r=e.style;for(let e in t){let n=t[e];Number.isFinite(n)&&!eo.test(e)?r[e]=`${n}px`:r[e]=n}}function ei(e){let{map:t,mapLib:r}=(0,a.useContext)(et),n=(0,a.useRef)({props:e});n.current.props=e;let o=(0,a.useMemo)(()=>{let t=!1;a.Children.forEach(e.children,e=>{e&&(t=!0)});let i={...e,element:t?document.createElement("div"):null},s=new r.Marker(i).setLngLat([e.longitude,e.latitude]);return s.getElement().addEventListener("click",e=>{var t,r;null===(r=(t=n.current.props).onClick)||void 0===r||r.call(t,{type:"click",target:s,originalEvent:e})}),s.on("dragstart",e=>{var t,r;let a=e;a.lngLat=o.getLngLat(),null===(r=(t=n.current.props).onDragStart)||void 0===r||r.call(t,a)}),s.on("drag",e=>{var t,r;let a=e;a.lngLat=o.getLngLat(),null===(r=(t=n.current.props).onDrag)||void 0===r||r.call(t,a)}),s.on("dragend",e=>{var t,r;let a=e;a.lngLat=o.getLngLat(),null===(r=(t=n.current.props).onDragEnd)||void 0===r||r.call(t,a)}),s},[]);return(0,a.useEffect)(()=>(o.addTo(t.getMap()),()=>{o.remove()}),[]),(0,a.useEffect)(()=>{ea(o.getElement(),e.style)},[e.style]),(o.getLngLat().lng!==e.longitude||o.getLngLat().lat!==e.latitude)&&o.setLngLat([e.longitude,e.latitude]),e.offset&&!function(e,t){let r=Array.isArray(e)?e[0]:e?e.x:0,n=Array.isArray(e)?e[1]:e?e.y:0,o=Array.isArray(t)?t[0]:t?t.x:0,a=Array.isArray(t)?t[1]:t?t.y:0;return r===o&&n===a}(o.getOffset(),e.offset)&&o.setOffset(e.offset),o.isDraggable()!==e.draggable&&o.setDraggable(e.draggable),o.getRotation()!==e.rotation&&o.setRotation(e.rotation),o.getRotationAlignment()!==e.rotationAlignment&&o.setRotationAlignment(e.rotationAlignment),o.getPitchAlignment()!==e.pitchAlignment&&o.setPitchAlignment(e.pitchAlignment),o.getPopup()!==e.popup&&o.setPopup(e.popup),(0,en.createPortal)(e.children,o.getElement())}function es(e){return new Set(e?e.trim().split(/\s+/):[])}ei.defaultProps={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"},a.memo(ei),a.memo(function(e){let{map:t,mapLib:r}=(0,a.useContext)(et),n=(0,a.useMemo)(()=>document.createElement("div"),[]),o=(0,a.useRef)({props:e});o.current.props=e;let i=(0,a.useMemo)(()=>{let t={...e},n=new r.Popup(t).setLngLat([e.longitude,e.latitude]);return n.once("open",e=>{var t,r;null===(r=(t=o.current.props).onOpen)||void 0===r||r.call(t,e)}),n},[]);if((0,a.useEffect)(()=>{let e=e=>{var t,r;null===(r=(t=o.current.props).onClose)||void 0===r||r.call(t,e)};return i.on("close",e),i.setDOMContent(n).addTo(t.getMap()),()=>{i.off("close",e),i.isOpen()&&i.remove()}},[]),(0,a.useEffect)(()=>{ea(i.getElement(),e.style)},[e.style]),i.isOpen()&&((i.getLngLat().lng!==e.longitude||i.getLngLat().lat!==e.latitude)&&i.setLngLat([e.longitude,e.latitude]),e.offset&&!W(i.options.offset,e.offset)&&i.setOffset(e.offset),(i.options.anchor!==e.anchor||i.options.maxWidth!==e.maxWidth)&&(i.options.anchor=e.anchor,i.setMaxWidth(e.maxWidth)),i.options.className!==e.className)){let t=es(i.options.className),r=es(e.className);for(let e of t)r.has(e)||i.removeClassName(e);for(let e of r)t.has(e)||i.addClassName(e);i.options.className=e.className}return(0,en.createPortal)(e.children,n)});var el=function(e,t,r,n){let o=(0,a.useContext)(et),i=(0,a.useMemo)(()=>e(o),[]);return(0,a.useEffect)(()=>{let e=n||r||t,a="function"==typeof t&&"function"==typeof r?t:null,s="function"==typeof r?r:"function"==typeof t?t:null,{map:l}=o;return!l.hasControl(i)&&(l.addControl(i,null==e?void 0:e.position),a&&a(o)),()=>{s&&s(o),l.hasControl(i)&&l.removeControl(i)}},[]),i};a.memo(function(e){let t=el(({mapLib:t})=>new t.AttributionControl(e),{position:e.position});return(0,a.useEffect)(()=>{ea(t._container,e.style)},[e.style]),null}),a.memo(function(e){let t=el(({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return(0,a.useEffect)(()=>{ea(t._controlContainer,e.style)},[e.style]),null});let eu=(0,a.forwardRef)((e,t)=>{let r=(0,a.useRef)({props:e}),n=el(({mapLib:t})=>{let n=new t.GeolocateControl(e),o=n._setupUI;return n._setupUI=e=>{n._container.hasChildNodes()||o(e)},n.on("geolocate",e=>{var t,n;null===(n=(t=r.current.props).onGeolocate)||void 0===n||n.call(t,e)}),n.on("error",e=>{var t,n;null===(n=(t=r.current.props).onError)||void 0===n||n.call(t,e)}),n.on("outofmaxbounds",e=>{var t,n;null===(n=(t=r.current.props).onOutOfMaxBounds)||void 0===n||n.call(t,e)}),n.on("trackuserlocationstart",e=>{var t,n;null===(n=(t=r.current.props).onTrackUserLocationStart)||void 0===n||n.call(t,e)}),n.on("trackuserlocationend",e=>{var t,n;null===(n=(t=r.current.props).onTrackUserLocationEnd)||void 0===n||n.call(t,e)}),n},{position:e.position});return r.current.props=e,(0,a.useImperativeHandle)(t,()=>({trigger:()=>n.trigger()}),[]),(0,a.useEffect)(()=>{ea(n._container,e.style)},[e.style]),null});function ec(e){let t=el(({mapLib:t})=>new t.ScaleControl(e),{position:e.position});return(t.options.unit!==e.unit||t.options.maxWidth!==e.maxWidth)&&(t.options.maxWidth=e.maxWidth,t.setUnit(e.unit)),(0,a.useEffect)(()=>{ea(t._container,e.style)},[e.style]),null}function ed(e,t){if(!e)throw Error(t)}eu.displayName="GeolocateControl",a.memo(eu),a.memo(function(e){let t=el(({mapLib:t})=>new t.NavigationControl(e),{position:e.position});return(0,a.useEffect)(()=>{ea(t._container,e.style)},[e.style]),null}),ec.defaultProps={unit:"metric",maxWidth:100},a.memo(ec);let ep=0;var ef=function(e){let t=(0,a.useContext)(et).map.getMap(),r=(0,a.useRef)(e),[,n]=(0,a.useState)(0),o=(0,a.useMemo)(()=>e.id||`jsx-source-${ep++}`,[]);(0,a.useEffect)(()=>{if(t){let e=()=>setTimeout(()=>n(e=>e+1),0);return t.on("styledata",e),e(),()=>{var r;if(t.off("styledata",e),t.style&&t.style._loaded&&t.getSource(o)){let e=null===(r=t.getStyle())||void 0===r?void 0:r.layers;if(e)for(let r of e)r.source===o&&t.removeLayer(r.id);t.removeSource(o)}}}},[t]);let i=t&&t.style&&t.getSource(o);return i?function(e,t,r){ed(t.id===r.id,"source id changed"),ed(t.type===r.type,"source type changed");let n="",o=0;for(let e in t)"children"!==e&&"id"!==e&&!W(r[e],t[e])&&(n=e,o++);if(!o)return;let a=t.type;if("geojson"===a)e.setData(t.data);else if("image"===a)e.updateImage({url:t.url,coordinates:t.coordinates});else if(("canvas"===a||"video"===a)&&1===o&&"coordinates"===n)e.setCoordinates(t.coordinates);else if("vector"===a&&"setUrl"in e)switch(n){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles)}else console.warn(`Unable to update <Source> prop: ${n}`)}(i,e,r.current):i=function(e,t,r){if(e.style&&e.style._loaded){let n={...r};return delete n.id,delete n.children,e.addSource(t,n),e.getSource(t)}return null}(t,o,e),r.current=e,i&&a.Children.map(e.children,e=>e&&(0,a.cloneElement)(e,{source:o}))||null};let em=0;var eh=function(e){let t=(0,a.useContext)(et).map.getMap(),r=(0,a.useRef)(e),[,n]=(0,a.useState)(0),o=(0,a.useMemo)(()=>e.id||`jsx-layer-${em++}`,[]);(0,a.useEffect)(()=>{if(t){let e=()=>n(e=>e+1);return t.on("styledata",e),e(),()=>{t.off("styledata",e),t.style&&t.style._loaded&&t.getLayer(o)&&t.removeLayer(o)}}},[t]);let i=t&&t.style&&t.getLayer(o);if(i)try{!function(e,t,r,n){if(ed(r.id===n.id,"layer id changed"),ed(r.type===n.type,"layer type changed"),"custom"===r.type||"custom"===n.type)return;let{layout:o={},paint:a={},filter:i,minzoom:s,maxzoom:l,beforeId:u}=r;if(u!==n.beforeId&&e.moveLayer(t,u),o!==n.layout){let r=n.layout||{};for(let n in o)W(o[n],r[n])||e.setLayoutProperty(t,n,o[n]);for(let n in r)o.hasOwnProperty(n)||e.setLayoutProperty(t,n,void 0)}if(a!==n.paint){let r=n.paint||{};for(let n in a)W(a[n],r[n])||e.setPaintProperty(t,n,a[n]);for(let n in r)a.hasOwnProperty(n)||e.setPaintProperty(t,n,void 0)}W(i,n.filter)||e.setFilter(t,i),(s!==n.minzoom||l!==n.maxzoom)&&e.setLayerZoomRange(t,s,l)}(t,o,e,r.current)}catch(e){console.warn(e)}else!function(e,t,r){if(e.style&&e.style._loaded&&(!("source"in r)||e.getSource(r.source))){let n={...r,id:t};delete n.beforeId,e.addLayer(n,r.beforeId)}}(t,o,e);return r.current=e,null},eg=r(7163),ey=r.n(eg),ev=r(361),e_=r.n(ev);let ex=e=>{let{children:t}=e;return(0,o.jsx)("div",{className:e_().container,children:(0,o.jsx)("div",{children:t})})},eb=e=>{let[t,r]=(0,a.useState)(!0),n="buy"===(0,s.jg)("category"),o=()=>{r(!1)};return{shouldShow:"comparison"===e&&n&&t,handleClick:o}},eE=e=>{let{id:t}=e,{shouldShow:r,handleClick:n}=eb(t);return r?(0,o.jsx)(eC,{handleClick:n}):null},eC=e=>{let{handleClick:t}=e;return(0,o.jsxs)("div",{className:ey().container,children:[(0,o.jsx)(eS,{handleClick:t}),(0,o.jsx)(ex,{children:(0,o.jsx)(eL,{})})]})},eS=e=>{let{handleClick:t}=e;return(0,o.jsx)("button",{onClick:t,className:ey().close,children:"✕"})},eL=()=>{let{t:e}=(0,i.$G)();return(0,o.jsx)("div",{className:ey().alertText,children:e("map.alertDownPayment")})},ej=e=>{let{id:t,color:r,colorOpacity:n,strokeOpacity:o,featurePropertiesKey:a}=e;return{...ew,id:t,type:"circle",filter:["has",a],paint:{"circle-opacity":n,"circle-color":r,...eM,"circle-stroke-opacity":o,"circle-radius":eT(a)}}},eP=[0,0,500,2e3],eT=e=>["interpolate",["linear"],["sqrt",["get",e]],...eP],ew={id:"data",source:"data"},eM={"circle-stroke-width":3,"circle-stroke-color":"#fff","circle-stroke-opacity":0},ek=(e,t)=>e?e.properties[t]:null,eR=e=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eN,{...e,id:"data",strokeOpacity:0}),(0,o.jsx)(eO,{...e,id:"hover",colorOpacity:.8,strokeOpacity:.8})]}),eN=e=>{let t=z(e=>e.feature),r=ez(!!t,e.colorOpacity),n=ej({...e,colorOpacity:r});return(0,o.jsx)(eh,{...n})},ez=(e,t)=>e?eA:t,eA=.2,eO=e=>{var t;let r=ej(e),n=z(e=>e.feature),i=null!==(t=ek(n,"group"))&&void 0!==t?t:"",s=(0,a.useMemo)(()=>["in","group",i],[i]);return(0,o.jsx)(eh,{...r,filter:s})},eI=e=>{let{children:t}=e,[r]=(0,s.jg)(["data"]);return(0,o.jsx)(ef,{id:"data",type:"geojson",data:r,children:t})},eD=e=>{let{id:t,mapProps:r,layerProps:n}=e;return(0,o.jsxs)("div",{className:P().mapContainer,children:[(0,o.jsx)(er,{...r,children:(0,o.jsx)(eI,{children:(0,o.jsx)(eR,{...n})})}),(0,o.jsx)(eE,{id:t})]})};var eZ=r(8193),eF=r.n(eZ);let eU=e=>{let{featurePropertiesKey:t}=e,r=z(e=>e.point),n=z(e=>e.feature),a=eW(!!n),i=ek(n,t),s={...r,data:i,state:a};return(0,o.jsx)(eq,{...s})},eq=e=>{let{data:t,state:r,translateKey:n="map.tooltipDescription",...a}=e,{t:s}=(0,i.$G)(),l=null!==t&&"active"===r?"".concat(t," ").concat(s(n)):"";return(0,o.jsx)(eB,{state:r,text:l,...a})},eB=e=>{let{state:t,text:r,x:n,y:a}=e,i={transform:"translateX(".concat(n,"px) translateY(").concat(a,"px)")};return(0,o.jsx)("div",{className:eF().container,"data-state":t,style:i,children:r})},eW=e=>e?"active":"disabled";r(4472);let eH=()=>{let{viewState:e,onMove:t,onMoveStart:r}=I(L),n=z(e=>e.updateEvent);return(0,o.jsx)(o.Fragment,{children:S.map((a,i)=>{let{id:s,...l}=a,u={...C,...e,onMouseMove:n,onMove:t[i],onMoveStart:r[i]};return(0,o.jsxs)("section",{className:"".concat(s," ").concat(P().map),children:[(0,o.jsx)(eD,{id:s,mapProps:u,layerProps:l}),(0,o.jsx)(eU,{featurePropertiesKey:l.featurePropertiesKey})]},s)})})},eK=()=>(0,o.jsxs)("main",{className:P().container,children:[(0,o.jsx)(eH,{}),(0,o.jsx)(T,{})]})},4472:function(){},7865:function(e){e.exports={container:"count_container__8ZDSv"}},5214:function(e){e.exports={headline:"info_headline__ypHPR",containerInfos:"info_containerInfos__NCFZs"}},7163:function(e){e.exports={container:"mapAlertBar_container__WhLN_",close:"mapAlertBar_close__IAPF2",alertText:"mapAlertBar_alertText__TQikE"}},361:function(e){e.exports={container:"marquee_container__Rez1r",marquee:"marquee_marquee__NMU3k"}},7013:function(e){e.exports={container:"squareChart_container__NpqC_",chart:"squareChart_chart__Ke_xd",squareContainer:"squareChart_squareContainer__nQItL",fade:"squareChart_fade__raUKC"}},8193:function(e){e.exports={container:"tooltip_container__skvBN"}},8354:function(e){e.exports={container:"visualization_container__1nDQX",map:"visualization_map__S_cNM",info:"visualization_info__XMeT6",mapContainer:"visualization_mapContainer__5lxTH"}},7663:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function a(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l=[],u=!1,c=-1;function d(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}},i=!0;try{t[e](a,a.exports,n),i=!1}finally{i&&delete r[e]}return a.exports}n.ab="//";var o=n(229);e.exports=o}()}}]);