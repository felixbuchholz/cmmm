(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9775)}])},5677:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=l.default,s={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};e instanceof Promise?s.loader=()=>e:"function"==typeof e?s.loader=e:"object"==typeof e&&(s=r({},s,e)),s=r({},s,t);let o=s.loader,u=()=>null!=o?o().then(i):Promise.resolve(i(()=>null));return(s.loadableGenerated&&delete(s=r({},s,s.loadableGenerated)).loadableGenerated,"boolean"!=typeof s.ssr||s.ssr)?n(r({},s,{loader:u})):(delete s.webpack,delete s.modules,a(n,s))},t.noSSR=a;var r=n(6495).Z,s=n(2648).Z,l=(s(n(7294)),s(n(8976)));function i(e){return{default:(null==e?void 0:e.default)||e}}function a(e,t){return delete t.webpack,delete t.modules,e(t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var r=(0,n(2648).Z)(n(7294));let s=r.default.createContext(null);t.LoadableContext=s},8976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(6495).Z,s=(0,n(2648).Z)(n(7294)),l=n(2254);let i=[],a=[],o=!1;function u(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}class c{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=r({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function d(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),r=null;function i(){if(!r){let t=new c(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!o){let e=n.webpack?n.webpack():n.modules;e&&a.push(t=>{for(let n of e)if(-1!==t.indexOf(n))return i()})}function u(e,t){!function(){i();let e=s.default.useContext(l.LoadableContext);e&&Array.isArray(n.modules)&&n.modules.forEach(t=>{e(t)})}();let a=s.default.useSyncExternalStore(r.subscribe,r.getCurrentValue,r.getCurrentValue);return s.default.useImperativeHandle(t,()=>({retry:r.retry}),[]),s.default.useMemo(()=>{var t;return a.loading||a.error?s.default.createElement(n.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:r.retry}):a.loaded?s.default.createElement((t=a.loaded)&&t.default?t.default:t,e):null},[e,a])}return u.preload=()=>i(),u.displayName="LoadableComponent",s.default.forwardRef(u)}(u,e)}function m(e,t){let n=[];for(;e.length;){let r=e.pop();n.push(r(t))}return Promise.all(n).then(()=>{if(e.length)return m(e,t)})}d.preloadAll=()=>new Promise((e,t)=>{m(i).then(e,t)}),d.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let n=()=>(o=!0,t());m(a,e).then(n,n)})},window.__NEXT_PRELOADREADY=d.preloadReady,t.default=d},9775:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eF}});var r=n(5893),s=n(5782),l=n(5152),i=n.n(l),a=n(7294),o=n(6664),u=n(7832),c=n(7039),d=n(6636),m=n.n(d);let h=()=>{let{t:e}=(0,c.$G)();return(0,r.jsxs)("nav",{className:m().container,children:[e("ui.languageSwitcher")," ",(0,r.jsx)(c.Ww,{lang:"srp",className:"link",children:"Srpski"})," ","| ",(0,r.jsx)(c.Ww,{lang:"en",children:"English"})]})};var p=n(5075),_=n.n(p);let j=["rent","buy"];var x=n(8326),v=n(3739);let f=e=>{let{description:t,highlight:n}=e;return(0,r.jsxs)("small",{children:[(0,r.jsx)("em",{children:n})," ",t]})};var y=n(9791),g=n.n(y);let b=()=>(0,r.jsx)(v.do,{states:E,children:(0,r.jsx)("div",{className:g().container,children:j.map(e=>(0,r.jsx)(w,{category:e},e))})}),E=["menu.mode_scenario.menu_category","menu.mode_options.menu_category"],w=e=>{let{category:t}=e,n=(0,x.Qj)(),s=e=>{n({type:"SELECT_CATEGORY",category:e})},{t:l}=(0,c.$G)(),i=l("".concat(t,".description")),a=l("".concat(t,".highlight"));return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:(0,r.jsx)("button",{onClick:()=>{s(t)},children:l("".concat(t,".categoryConfirm"))})}),(0,r.jsx)(f,{description:i,highlight:a})]})};var S=n(6151),N=n.n(S);let O=e=>{let{translationKey:t="categorySelect"}=e,{t:n}=(0,c.$G)(),s=(0,x.jg)("category"),l=(0,x.Qj)(),i=()=>{l("OPEN_MENU_CATEGORY")};return(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"triangle",onClick:i,children:n("".concat(s,".").concat(t))})})},C=()=>{let{t:e}=(0,c.$G)();return(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"inlineDivs",children:[e("menuOverview.categorySelect1")," ",(0,r.jsx)(O,{})," ",e("menuOverview.categorySelect2")]}),(0,r.jsx)("small",{children:e("menuOverview.categorySelectExplainer")})]})};var k=n(7412);let G=()=>{let{t:e}=(0,c.$G)(),{selectionService:t}=(0,a.useContext)(u.P),n=(0,o.v)(t,e=>!(0,k.Wf)(e.context)),s=(0,x.Qj)(),l=()=>{s("CONFIRM_SELECTION")};return(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"padded",onClick:l,disabled:n,children:e("menuOverview.confirm")})})},P=()=>{let{t:e}=(0,c.$G)();return(0,r.jsxs)("small",{children:[(0,r.jsx)("em",{children:e("menuOverview.disclaimerEmphasis")})," ",e("menuOverview.disclaimerBody")]})},z=e=>e>1?".plural":".singular",T=()=>{let{t:e}=(0,c.$G)(),t=M(),n=$(),s=(0,x.Qj)(),l=e=>{s("OPEN_MENU_".concat(e))};return(0,r.jsxs)("div",{children:[e("menuOverview.sizeSelect")," ",(0,r.jsx)("button",{className:"triangle",onClick:()=>l("SIZE"),children:(0,r.jsx)("span",{className:"buttonSpan",children:t})}),(0,r.jsx)("br",{}),e("menuOverview.incomeSelect")," ",(0,r.jsx)("button",{className:"triangle",onClick:()=>l("INCOME"),children:(0,r.jsx)("span",{className:"buttonSpan",children:n})})]})},M=()=>{let{t:e}=(0,c.$G)(),[t]=(0,x.jg)(["size"]);return t?t+" "+e("person".concat(z(t))):e("menuOverview.sizeSelectButtonEmpty")},$=()=>{let{t:e}=(0,c.$G)(),[t]=(0,x.jg)(["income"]);return t?t+" "+e("units.euroPerMonth"):e("menuOverview.incomeSelectButtonEmpty")};var R=JSON.parse("[200,250,300,350,400,450,500,550,600,650,700,750,800,850,900,950,1000,1050,1100,1150,1200,1250,1300,1350,1400,1450,1500,1550,1600,1650,1700,1750,1800,1850,1900,1950,2000,2100,2200,2300,2400,2500,2600,2700,2800,2900,3000,3100,3200,3300,3400,3500,3600,3700,3800,3900,4000,4500,5000,5500,6000,6500,7000,7500,8000]"),A=JSON.parse('[{"income":700,"size":1,"translateKey":"scenarios.teacherAlone"},{"income":1400,"size":2,"translateKey":"scenarios.workingInEducationCouple"},{"income":1700,"size":5,"translateKey":"scenarios.averageFamily3Kids"},{"income":620,"size":2,"translateKey":"scenarios.singleMomGroceryStore1Kid"},{"income":500,"size":1,"translateKey":"scenarios.retiredFirefighter"}]'),K=[1,2,3,4,5,6];let L=K.map(e=>({size:e})),D=R.map(e=>({income:e})),F=[...new Set([...K,...A.map(e=>e.size)])],I=[...new Set([...R,...A.map(e=>e.income)])],Q={category:["buy","rent"],size:F,income:I},Z=()=>(0,r.jsx)("div",{children:(0,r.jsx)(q,{})}),V=()=>{let{t:e}=(0,c.$G)();return e("menuOverview.scenarioSelect")},q=()=>{let e=(0,x.LH)(["menu.mode_options"]),[t,n]=(0,x.jg)(["income","size"]);if(!t||!n||e)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V,{}),(0,r.jsx)(Y,{})]});let s=A.find(e=>e.income==t&&e.size===n),l=s.translateKey;return(0,r.jsx)(U,{translateKey:l})},Y=()=>{let{t:e}=(0,c.$G)(),t=B();return(0,r.jsx)("button",{className:"triangle",onClick:t,children:(0,r.jsx)("span",{className:"buttonSpan",children:e("menuOverview.scenarioSelectEmpty")})})},B=()=>{let e=(0,x.Qj)();return()=>{e("OPEN_MENU_SCENARIO")}},U=e=>{let{translateKey:t}=e,{t:n}=(0,c.$G)(),s=B(),[l,i]=(0,x.jg)(["income","size"]);return(0,r.jsx)("div",{children:(0,r.jsxs)("button",{className:"triangle",onClick:s,children:[(0,r.jsx)("span",{className:"buttonSpan",children:n(t)}),(0,r.jsx)("br",{}),(0,r.jsxs)("span",{className:"comparison",children:["(",i," ",n("person".concat(z(i))),", ",l," ",n("units.euroPerMonth"),")"]})]})})},W=e=>{let{activeStates:t,children:n,translateKey:s}=e,{t:l}=(0,c.$G)();return(0,r.jsxs)(v.do,{states:t,useDataState:!0,children:[(0,r.jsx)("h3",{children:n}),(0,r.jsx)("small",{children:l(s)})]})},J=()=>{let{t:e}=(0,c.$G)();return(0,r.jsx)(r.Fragment,{children:H.map((t,n)=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(W,{...t}),n===X&&(0,r.jsx)("div",{className:N().snug,children:(0,r.jsx)("h3",{children:e("menuOverview.seperatorSelection")})},n)]},t.translateKey))})},X=0,H=[{translateKey:"menuOverview.optionsSelectExplainer",activeStates:["menu.mode_options"],children:(0,r.jsx)(T,{})},{translateKey:"menuOverview.scenarioSelectExplainer",activeStates:["menu.mode_scenario"],children:(0,r.jsx)(Z,{})}],ee=()=>{let{t:e}=(0,c.$G)();return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"subheadline regular-weight",children:e("menuOverview.title")}),(0,r.jsx)("small",{children:e("menuOverview.titleExplainer")})]})},et=()=>(0,r.jsx)(v.do,{states:en,children:(0,r.jsxs)("div",{className:N().container,children:[(0,r.jsx)(ee,{}),(0,r.jsx)(C,{}),(0,r.jsx)(J,{}),(0,r.jsx)(G,{}),(0,r.jsx)(P,{})]})}),en=["menu.mode_options.menu_overview","menu.mode_scenario.menu_overview"],er=e=>{let{size:t,income:n,translateKey:s}=e;return"number"==typeof t&&"number"==typeof n?(0,r.jsx)(es,{size:t,income:n,translateKey:s}):"number"==typeof t?(0,r.jsx)(el,{size:t}):"number"==typeof n?(0,r.jsx)(ei,{income:n}):null},es=e=>{let{size:t,income:n,translateKey:s}=e,l=(0,x.Qj)(),i=e=>{l({type:"SELECT_SCENARIO",...e})},{t:a}=(0,c.$G)();return(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:()=>{i({size:t,income:n})},children:a(s)})," ","(",t," ",a("person".concat(z(t))),", ",n," ",a("units.euroPerMonth"),")"]})},el=e=>{let{size:t}=e,n=(0,x.Qj)(),s=e=>{n({type:"SELECT_SIZE",...e})},{t:l}=(0,c.$G)();return(0,r.jsx)("div",{children:(0,r.jsxs)("button",{onClick:()=>{s({size:t})},children:[t," ",l("person".concat(z(t)))]})})},ei=e=>{let{income:t}=e,n=(0,x.Qj)(),s=e=>{n({type:"SELECT_INCOME",...e})},{t:l}=(0,c.$G)();return(0,r.jsx)("div",{children:(0,r.jsxs)("button",{onClick:()=>{s({income:t})},children:[t," ",l("units.euroPerMonth")]})})},ea=e=>{let{activeStates:t,parameters:n}=e;return(0,r.jsx)(v.do,{states:t,children:(0,r.jsx)("div",{className:g().container,children:n.map((e,t)=>(0,r.jsx)(er,{...e},"".concat(e.size,"-").concat(e.income,"-").concat(t)))})})},eo=()=>(0,r.jsx)("div",{children:eu.map((e,t)=>(0,r.jsx)(ea,{...e},t))}),eu=[{parameters:A,activeStates:["menu.mode_scenario.menu_scenario"]},{parameters:L,activeStates:["menu.mode_options.menu_size"]},{parameters:D,activeStates:["menu.mode_options.menu_income"]}];var ec=n(6402);let ed=["menu.mode_options.menu_off","menu.mode_scenario.menu_off"],em=()=>{let{selectionService:e}=(0,a.useContext)(u.P),t=(0,o.v)(e,e=>(0,ec.Y9)(ed,e));return(0,r.jsxs)("div",{className:_().container,"data-state":t,children:[(0,r.jsx)(h,{}),(0,r.jsx)(et,{}),(0,r.jsx)(eo,{}),(0,r.jsx)(b,{})]})};var eh=n(6608),ep=n.n(eh);let e_=["menu.mode_options.menu_off","menu.mode_scenario.menu_off"],ej=()=>(0,r.jsx)(v.do,{states:e_,children:(0,r.jsxs)("nav",{className:ep().container,children:[(0,r.jsx)(O,{translationKey:"navigation"}),(0,r.jsx)(v.do,{states:["menu.mode_scenario"],children:(0,r.jsx)(Z,{})}),(0,r.jsx)(v.do,{states:["menu.mode_options"],children:(0,r.jsx)(T,{})})]})});var ex=n(1163);let ev=()=>{let e=(0,ex.useRouter)(),t=ey(),n=(0,x.Qj)();(0,a.useEffect)(()=>{if(e.isReady){let r=eP({router:e,context:t});if(r)setTimeout(()=>{n({type:"ENTER_QUERY_PARAMS",...eR(e.query)})},ef);else{let n=ek({router:e,context:t});n&&eG({context:t,router:e})}}},[t,e,n])},ef=1e3,ey=()=>{let[e,t,n]=(0,x.jg)(eg);return{category:e,income:t,size:n}},eg=["category","income","size"],eb=["buy","rent"],eE=e=>void 0===e||Array.isArray(e)?null:"buy"===e||"rent"===e?e:ew(e),ew=e=>{let t=+e;return isNaN(t)?null:t},eS=(e,t)=>eE(e)===t,eN=(e,t)=>{let n=eg.map(n=>eS(e[n],t[n]));return n.every(e=>e)},eO=e=>null===e?"null":"string"==typeof e&&eb.includes(e)?e:e.toString(),eC=e=>{let t={category:"",income:"",size:""};for(let n in e)t[n]=eO(e[n]);return t},ek=e=>{let{router:t,context:n}=e;return!eN(t.query,n)},eG=e=>{let{context:t,router:n}=e,r=eC(t);n.replace({query:{...n.query,...r}},null,{shallow:!0})},eP=e=>{let{router:t,context:n}=e,r=eM(n),s=ez(t.query);return r&&s},ez=e=>eg.map(t=>eT(e,t)).every(e=>e),eT=(e,t)=>{let n=eE(e[t]),r=Q[t];return r.includes(n)},eM=e=>eg.map(t=>e[t]===e$[t]).every(e=>e),e$={category:"rent",size:null,income:null},eR=e=>{let t={...e$};for(let n in e$)t[n]=eE(e[n]);return t},eA=i()(()=>n.e(983).then(n.bind(n,2983)).then(e=>e.Visualization),{loadableGenerated:{webpack:()=>[2983]}}),eK=()=>(ev(),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ej,{}),(0,r.jsx)(eA,{}),(0,r.jsx)(em,{})]}));var eL=n(4948);let eD=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eL.N,{}),(0,r.jsx)(s.A,{children:(0,r.jsx)(eK,{})})]});var eF=eD},6636:function(e){e.exports={container:"languagePicker_container___PZS9"}},5075:function(e){e.exports={container:"menu_container__Co1Kl"}},6151:function(e){e.exports={container:"menuOverview_container__jA94n",snug:"menuOverview_snug__BCt31"}},9791:function(e){e.exports={container:"menuParameter_container__WgVDJ"}},6608:function(e){e.exports={container:"navigation_container__vv8Rb"}},5152:function(e,t,n){e.exports=n(5677)}},function(e){e.O(0,[420,264,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);